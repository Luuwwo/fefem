(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),o=a.n(r);a(14);var c=e=>{let{x:t,y:a,setX:n,setY:r,fixedX:o,fixedY:c,setFixedX:i,setFixedY:d,addNode:m}=e;return l.a.createElement("div",null,l.a.createElement("h2",null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0437\u043b\u043e\u0432"),l.a.createElement("input",{type:"number",placeholder:"X",value:t,onChange:e=>n(e.target.value)}),l.a.createElement("input",{type:"number",placeholder:"Y",value:a,onChange:e=>r(e.target.value)}),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:o,onChange:e=>i(e.target.checked)})," \u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c X"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked)})," \u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c Y"),l.a.createElement("button",{onClick:m},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b"))};var i=e=>{let{fromNode:t,toNode:a,setFromNode:n,setToNode:r,addElement:o,nodes:c}=e;return l.a.createElement("div",null,l.a.createElement("h2",null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),l.a.createElement("select",{value:t,onChange:e=>n(e.target.value)},l.a.createElement("option",{value:""},"\u041e\u0442 \u0443\u0437\u043b\u0430"),c.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.id))),l.a.createElement("select",{value:a,onChange:e=>r(e.target.value)},l.a.createElement("option",{value:""},"\u0414\u043e \u0443\u0437\u043b\u0430"),c.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.id))),l.a.createElement("button",{onClick:o},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"))};var d=e=>{let{forceNodeId:t,setForceNodeId:a,fx:n,fy:r,setFx:o,setFy:c,applyForce:i,nodes:d}=e;return l.a.createElement("div",null,l.a.createElement("h2",null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u043a"),l.a.createElement("select",{value:t,onChange:e=>a(e.target.value)},l.a.createElement("option",{value:""},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0437\u0435\u043b"),d.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.id))),l.a.createElement("input",{type:"number",placeholder:"Fx",value:n,onChange:e=>o(e.target.value)}),l.a.createElement("input",{type:"number",placeholder:"Fy",value:r,onChange:e=>c(e.target.value)}),l.a.createElement("button",{onClick:i},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))};var m=e=>{let{nodes:t}=e;return l.a.createElement("div",null,l.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0437\u043b\u043e\u0432:"),l.a.createElement("table",{border:"1",cellPadding:"4",style:{borderCollapse:"collapse"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"X"),l.a.createElement("th",null,"Y"),l.a.createElement("th",null,"Fx"),l.a.createElement("th",null,"Fy"),l.a.createElement("th",null,"\u0417\u0430\u043a\u0440.X"),l.a.createElement("th",null,"\u0417\u0430\u043a\u0440.Y"))),l.a.createElement("tbody",null,t.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.x),l.a.createElement("td",null,e.y),l.a.createElement("td",null,e.fx),l.a.createElement("td",null,e.fy),l.a.createElement("td",null,e.fixedX?"\u2713":""),l.a.createElement("td",null,e.fixedY?"\u2713":""))))))};var s=e=>{let{nodes:t,elements:a,displacements:n,showAnimation:r,animationFactor:o,showNodeLabels:c,showForces:i,darkMode:d}=e;const m=(e,t)=>{const a=r&&(null===t||void 0===t?void 0:t.Ux)?t.Ux*o:0,n=r&&(null===t||void 0===t?void 0:t.Uy)?t.Uy*o:0;return[e.x+a,e.y+n]},{scale:s,centerX:u,centerY:f}=(()=>{const e=t.map(e=>{const t=n.find(t=>t.id===e.id),a=r&&(null===t||void 0===t?void 0:t.Ux)?t.Ux*o:0,l=r&&(null===t||void 0===t?void 0:t.Uy)?t.Uy*o:0;return{x:e.x+a,y:e.y+l}});if(0===e.length)return{scale:1,centerX:0,centerY:0};const a=e.map(e=>e.x),l=e.map(e=>e.y),c=Math.min(...a),i=Math.max(...a),d=Math.min(...l),m=Math.max(...l),s=i-c||1,u=m-d||1;return{scale:400/Math.max(s,u),centerX:(c+i)/2,centerY:(d+m)/2}})(),h=e=>{let[t,a]=e;return[(t-u)*s+250,250-(a-f)*s]};return l.a.createElement("svg",{width:"500",height:"500",style:{border:"1px solid #ccc",backgroundColor:d?"#222":"#fff"}},a.map(e=>{const a=t.find(t=>t.id===e.from),r=t.find(t=>t.id===e.to),o=n.find(t=>t.id===e.from),c=n.find(t=>t.id===e.to);if(!a||!r)return null;const[i,d]=h(m(a,o)),[s,u]=h(m(r,c));return l.a.createElement("line",{key:e.id,x1:i,y1:d,x2:s,y2:u,stroke:"blue",strokeWidth:"2"})}),t.map(e=>{const t=n.find(t=>t.id===e.id),[a,r]=h(m(e,t));return l.a.createElement("g",{key:e.id},l.a.createElement("circle",{cx:a,cy:r,r:"5",fill:"red"}),c&&l.a.createElement("text",{x:a+6,y:r-6,fontSize:"10",fill:d?"#eee":"black"},e.id),i&&(0!==e.fx||0!==e.fy)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("line",{x1:a,y1:r,x2:a+.5*e.fx,y2:r-.5*e.fy,stroke:"green",strokeWidth:"2",markerEnd:"url(#arrow)"}),l.a.createElement("text",{x:a+.5*e.fx+4,y:r-.5*e.fy,fontSize:"10",fill:"green"},"(",e.fx,", ",e.fy,")")))}),l.a.createElement("defs",null,l.a.createElement("marker",{id:"arrow",markerWidth:"10",markerHeight:"10",refX:"10",refY:"3",orient:"auto",markerUnits:"strokeWidth"},l.a.createElement("path",{d:"M0,0 L0,6 L9,3 z",fill:"green"}))))};var u=e=>{let{showAnimation:t,setShowAnimation:a,showNodeLabels:n,setShowNodeLabels:r,showForces:o,setShowForces:c,darkTheme:i,setDarkTheme:d}=e;return l.a.createElement("div",{style:{margin:"1rem 0",display:"flex",gap:"1rem",flexWrap:"wrap"}},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:t,onChange:()=>a(!t)})," \u0410\u043d\u0438\u043c\u0430\u0446\u0438\u044f"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:n,onChange:()=>r(!n)})," \u041f\u043e\u0434\u043f\u0438\u0441\u0438 \u0443\u0437\u043b\u043e\u0432"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:o,onChange:()=>c(!o)})," \u0421\u0438\u043b\u044b"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:i,onChange:()=>d(!i)})," \u0422\u0451\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"))},f=a(4),h=a.n(f);var E=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)([]),[o,f]=Object(n.useState)(""),[E,p]=Object(n.useState)(""),[x,y]=Object(n.useState)(!1),[b,g]=Object(n.useState)(!1),[v,k]=Object(n.useState)(""),[F,w]=Object(n.useState)(""),[S,C]=Object(n.useState)(""),[N,j]=Object(n.useState)(""),[O,X]=Object(n.useState)(""),[Y,U]=Object(n.useState)(!0),[M,I]=Object(n.useState)(!0),[A,L]=Object(n.useState)(!0),[T,W]=Object(n.useState)(!1),[z,D]=Object(n.useState)([]),[$,B]=Object(n.useState)(0);return Object(n.useEffect)(()=>{let e=1;const t=setInterval(()=>{B(t=>{let a=t+.02*e;return(a>1||a<0)&&(e*=-1,a=t),a})},30);return()=>clearInterval(t)},[]),l.a.createElement("div",{style:{padding:"2rem",backgroundColor:T?"#1e1e1e":"#fff",color:T?"#fff":"#000",minHeight:"100vh"}},l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",gap:"1rem",marginBottom:"2rem"}},l.a.createElement("img",{src:h.a,alt:"FEM Solver Logo",style:{height:"80px"}}),l.a.createElement("div",null,l.a.createElement("h1",{style:{margin:0}},"FEM Solver"),l.a.createElement("h2",{style:{margin:0,fontWeight:"normal"}},"\u0420\u0430\u0441\u0447\u0451\u0442 \u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439"))),l.a.createElement(u,{showAnimation:Y,setShowAnimation:U,showNodeLabels:M,setShowNodeLabels:I,showForces:A,setShowForces:L,darkTheme:T,setDarkTheme:W}),l.a.createElement(c,{x:o,y:E,setX:f,setY:p,fixedX:x,fixedY:b,setFixedX:y,setFixedY:g,addNode:()=>{if(""===o||""===E)return;const a={id:e.length+1,x:parseFloat(o),y:parseFloat(E),fixedX:x,fixedY:b,fx:0,fy:0};t([...e,a]),f(""),p(""),y(!1),g(!1)}}),l.a.createElement(m,{nodes:e}),l.a.createElement(i,{fromNode:v,toNode:F,setFromNode:k,setToNode:w,addElement:()=>{if(""===v||""===F||v===F)return;const e={id:a.length+1,from:parseInt(v),to:parseInt(F)};r([...a,e]),k(""),w("")},nodes:e}),l.a.createElement(d,{forceNodeId:S,setForceNodeId:C,fx:N,fy:O,setFx:j,setFy:X,applyForce:()=>{if(""===S)return;const a=e.map(e=>e.id===parseInt(S)?{...e,fx:parseFloat(N)||0,fy:parseFloat(O)||0}:e);t(a),C(""),j(""),X("")},nodes:e}),l.a.createElement(s,{nodes:e,elements:a,displacements:z,showAnimation:Y,showNodeLabels:M,showForces:A,animationFactor:$}),l.a.createElement("button",{onClick:()=>{const t=2*e.length;let n=Array(t).fill(0).map(()=>Array(t).fill(0)),l=Array(t).fill(0);for(const c of a){const t=e.find(e=>e.id===c.from),a=e.find(e=>e.id===c.to);if(!t||!a)continue;const l=a.x-t.x,r=a.y-t.y,o=Math.sqrt(l*l+r*r),i=l/o,d=r/o,m=1/o,s=[[i*i,i*d,-i*i,-i*d],[i*d,d*d,-i*d,-d*d],[-i*i,-i*d,i*i,i*d],[-i*d,-d*d,i*d,d*d]].map(e=>e.map(e=>e*m)),u=[2*(t.id-1),2*(t.id-1)+1,2*(a.id-1),2*(a.id-1)+1];for(let e=0;e<4;e++)for(let t=0;t<4;t++)n[u[e]][u[t]]+=s[e][t]}e.forEach((e,t)=>{l[2*t]=e.fx,l[2*t+1]=e.fy}),e.forEach((e,a)=>{if(e.fixedX){const e=2*a;for(let a=0;a<t;a++)n[e][a]=0,n[a][e]=0;n[e][e]=1,l[e]=0}if(e.fixedY){const e=2*a+1;for(let a=0;a<t;a++)n[e][a]=0,n[a][e]=0;n[e][e]=1,l[e]=0}});const r=((e,t)=>{const a=e.length;for(let l=0;l<a;l++){let n=Math.abs(e[l][l]),r=l;for(let t=l+1;t<a;t++)Math.abs(e[t][l])>n&&(n=Math.abs(e[t][l]),r=t);[e[l],e[r]]=[e[r],e[l]],[t[l],t[r]]=[t[r],t[l]];for(let o=l+1;o<a;o++){const n=-e[o][l]/e[l][l];for(let t=l;t<a;t++)e[o][t]+=n*e[l][t];t[o]+=n*t[l]}}const n=Array(a).fill(0);for(let l=a-1;l>=0;l--){n[l]=t[l]/e[l][l];for(let a=l-1;a>=0;a--)t[a]-=e[a][l]*n[l]}return n})(n,l),o=e.map((e,t)=>({id:e.id,Ux:r[2*t],Uy:r[2*t+1]}));D(o),alert("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0440\u0430\u0441\u0447\u0451\u0442\u0430:\n"+o.map(e=>`\u0423\u0437\u0435\u043b ${e.id}: Ux = ${e.Ux.toFixed(4)}, Uy = ${e.Uy.toFixed(4)}`).join("\n"))},style:{marginTop:"1rem"}},"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0451\u0442"))};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null)))},4:function(e,t,a){e.exports=a.p+"static/media/logo.aae7427e.png"},5:function(e,t,a){e.exports=a(15)}},[[5,1,2]]]);
//# sourceMappingURL=main.2e8e44c0.chunk.js.map